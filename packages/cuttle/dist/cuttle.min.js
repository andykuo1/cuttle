!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Cuttle={})}(this,function(t){"use strict";const e=Symbol("classProperties");function o(t,o){if(!t.hasOwnProperty(e)&&(function(t){let o,n;const r=Object.getPrototypeOf(t);if(r&&r.hasOwnProperty(e)){const t=r[e];o=new Map(t.options),n=new Map(t.attributes)}else o=new Map,n=new Map;t[e]={options:o,attributes:n}}(t),o))for(const e of Object.getOwnPropertyNames(o))n(t,e,o[e])}function n(t,o,n){void 0===n.attribute&&(n.attribute=function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}(o));const r=t[e];r.options.set(o,n),n.attribute&&r.attributes.set(n.attribute,o)}function r(t){const e=document.createRange().createContextualFragment(t),o=e.firstElementChild;return document.head.appendChild(e),o}const i=Symbol("shadowTemplate");function s(t,e){t.hasOwnProperty(i)?console.error(`[Cuttle] Found duplicate shadow template definition for <${tagName}>... ignoring re-definition.`):(e instanceof Element||("string"==typeof e?e=r(e):"object"==typeof e&&(e=function(t="",e=""){return r(`<template><style>${e}</style>${t}</template>`)}(e.template,e.style))),t[i]=e)}function a(t,e,o){window.customElements.get(e)?console.error(`[Cuttle] Found duplicate tag definition of <${e}>... ignoring re-definition.`):window.customElements.define(e,t,o)}t.construct=function(t,o={}){let n=!1,r=!1;"object"==typeof o&&!1===o.shadow&&(n=!0),n||(n=!0,function(t,e,o){t.attachShadow(o).appendChild(e.content.cloneNode(!0))}(t,t.constructor[i],o.shadow||{mode:"open"}));r||(r=!0,function(t){t[e]}(t.constructor));return t},t.define=function(t,n){const r="object"==typeof n;return r&&n.properties?defineProperties(t,n.properties):t.hasOwnProperty("properties")&&function(t,n){t.hasOwnProperty(e)?console.error(`[Cuttle] Found duplicate property definition for <${tagName}>... ignoring re-definition.`):(o(t,n),function(t){const o=Object.getOwnPropertyDescriptor(t,"observedAttributes");Object.defineProperty(t,"observedAttributes",{get(){const t=Array.from(this[e].attributes.keys());return o?t.concat(o.get.call(this)):t},configurable:!0,enumberable:!1})}(t),function(t){const o=Object.getOwnPropertyDescriptor(t.prototype,"attributeChangedCallback");Object.defineProperty(t.prototype,"attributeChangedCallback",{value:function(t,n,r){if(o&&o.value.call(this,t,n,r),n===r)return;const i=this.constructor[e];if(i.attributes.has(t)){const e=i.attributes.get(t),o=i.options.get(e),n=this[e],s=attributeToPropertyData(o.type,r);requestPropertyUpdate(this,e,o,n,s,ATTRIBUTE_SIDE)}}})}(t))}(t,t.properties),r&&n.shadowTemplate?s(t,n.shadowTemplate):t.hasOwnProperty("shadowTemplate")&&s(t,t.shadowTemplate),"string"==typeof n?a(t,n):r&&!1!==n.custom&&n.name&&a(t,n.name,n.custom||{}),t},Object.defineProperty(t,"__esModule",{value:!0})});
