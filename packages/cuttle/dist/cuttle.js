!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Cuttle={})}(this,(function(t){"use strict";function e(t){if(!(t instanceof HTMLElement))throw new Error("Cannot find root element of component not extended from HTMLElement.");return t.shadowRoot||t}function n(t,e=""){const n=t.prototype;switch(e.toLowerCase()){case"button":return n instanceof HTMLButtonElement;case"blockquote":case"q":return n instanceof HTMLQuoteElement;default:return e.length>0}}function o(t){return t.prototype instanceof HTMLElement}const r=Symbol("attributeChangedListeners");function i(t){return"object"==typeof t&&"value"in t}function c(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}function u(t,e){if(t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}}function l(t){return"function"==typeof t?t:t.type}function f(t){switch(t){case String:return m;case Boolean:return y;default:return w.bind(void 0,t)}}function s(t){return d}function a(t){switch(t){case String:return p;case Boolean:return h;default:return b.bind(void 0,t)}}function d(t,e){return e[`_${t}`]}function p(t,e,n){e.setAttribute(t,n)}function h(t,e,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function b(t,e,n,o){n.setAttribute(e,String(o))}function m(t){return t}function y(t){return null!==t}function w(t,e){t.call(void 0,e)}t.appendStyle=function(t,n){let o=e(t),r=n.cloneNode(!0);return o.appendChild(r),r},t.appendTemplate=function(t,n){let o=e(t),r=n.content.cloneNode(!0);return o.appendChild(r),r},t.attachShadow=function(t,e,n){let o=t.attachShadow({mode:"open"});return n&&o.appendChild(n.cloneNode(!0)),e&&o.appendChild(e.content.cloneNode(!0)),o},t.bindAttributeChanged=function(t,e,n){let o=t[r]||(t[r]=new Map);o.has(e)?o.get(e).push(n):o.set(e,[n])},t.createStyleElement=function(t){let e=document.createElement("style");return e.innerHTML=t,e},t.createTemplateElement=function(t){let e=document.createElement("template");return e.innerHTML=t,e},t.defineComponent=function(t,e,d,p){if(d&&!n(t,d))throw new Error(`Extended element class does not match the tag name for custom tag '${e}'.`);if(!o(t))throw new Error(`Cannot define custom tag '${e}' that does not extend HTMLElement.`);const h=t.properties;if(h){let e={},n=[];!function(t,e={}){for(let n of Object.keys(t)){let o=l(t[n]),r=s().bind(void 0,n),i=a(o).bind(void 0,n);e[n]={get(){return r(this)},set(t){i(this,t)}}}}(h,e),function(t,e=[]){for(let n of Object.keys(t))e.push(n)}(h,n),function(t,e={}){for(let n of Object.keys(t))e[`_${n}`]={writable:!0}}(h,e),function(t,e){let n=e.prototype,o=n.hasOwnProperty("connectedCallback")?n.connectedCallback:void 0;n.connectedCallback=function(){for(let e of Object.keys(t)){let n=t[e];i(n)&&c(this,e,n.value)}for(let e of Object.keys(t))u(this,e);o&&o.call(this,...arguments)}}(h,t),function(t,e){let n=e.prototype,o=n.hasOwnProperty("attributeChangedCallback")?n.attributeChangedCallback:void 0;n.attributeChangedCallback=function(e,n,i){let c=n,u=i;if(e in t){const n=f(l(t[e])),o=`_${e}`;c=this[o],u=this[o]=n(i)}if(r in this){let t=this[r];if(t.has(e))for(let n of t.get(e))n.call(this,u,c,e);if(t.has("*"))for(let n of t.get("*"))n.call(this,u,c,e)}o&&o.call(this,...arguments)}}(h,t),function(t,e){if(e.hasOwnProperty("observedAttribtes"))throw new Error("Cannot override existing observedAttributes() in class.");Object.defineProperty(e,"observedAttributes",{get:()=>t})}(n,t),function(t,e){const n=e.prototype;for(const e of Object.keys(t))n.hasOwnProperty(e)&&delete t[e];Object.defineProperties(e.prototype,t)}(e,t)}let b=d?{extends:d}:void 0,m="string"==typeof e?[e]:e;for(let e of m)window.customElements.define(e,t,b);return t},t.find=function(t,n){return e(t).querySelector(n)},t.findAll=function(t,n){return e(t).querySelectorAll(n)},t.findById=function(t,n){return e(t).getElementById(n)},t.getRootElement=e,t.isCustomElement=o,t.isExtendedClassForTagName=n,Object.defineProperty(t,"__esModule",{value:!0})}));
