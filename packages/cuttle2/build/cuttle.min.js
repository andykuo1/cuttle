!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).cuttle={})}(this,(function(t){"use strict";const e=Symbol("attributeChangedListeners"),n="*";function o(t){if(!(t instanceof HTMLElement))throw new Error("Cannot find root element of component not extended from HTMLElement.");return t.shadowRoot||t}function r(t){return"object"==typeof t&&"value"in t}function i(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}function c(t,e){if(t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}}function u(t){return"function"==typeof t?t:t.type}function f(t){switch(t){case String:return b;case Boolean:return y;default:return m.bind(void 0,t)}}function l(t){return a}function s(t){switch(t){case String:return d;case Boolean:return h;default:return p.bind(void 0,t)}}function a(t,e){return e[`_${t}`]}function d(t,e,n){e.setAttribute(t,n)}function h(t,e,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function p(t,e,n,o){n.setAttribute(e,String(o))}function b(t){return t}function y(t){return null!==t}function m(t,e){t.call(void 0,e)}t.attachShadow=function(t,e,n){let o=t.attachShadow({mode:"open"});return n&&o.appendChild(n.cloneNode(!0)),e&&o.appendChild(e.content.cloneNode(!0)),o},t.bindAttributeChanged=function(t,n,o){let r=t[e]||(t[e]=new Map);r.has(n)?r.get(n).push(o):r.set(n,[o])},t.createStyle=function(t){let e=document.createElement("style");return e.innerHTML=t,e},t.createTemplate=function(t){let e=document.createElement("template");return e.innerHTML=t,e},t.defineComponent=function(t,o,a,d){if(a&&!function(t,e=""){const n=t.prototype;switch(e.toLowerCase()){case"button":return n instanceof HTMLButtonElement;case"blockquote":case"q":return n instanceof HTMLQuoteElement;default:return e.length>0}}(t,a))throw new Error(`Extended element class does not match the tag name for custom tag '${o}'.`);if(!function(t){return t.prototype instanceof HTMLElement}(t))throw new Error(`Cannot define custom tag '${o}' that does not extend HTMLElement.`);const h=t.properties;if(h){let o={},a=[];!function(t,e={}){for(let n of Object.keys(t)){let o=u(t[n]),r=l().bind(void 0,n),i=s(o).bind(void 0,n);e[n]={get(){return r(this)},set(t){i(this,t)}}}}(h,o),function(t,e=[]){for(let n of Object.keys(t))e.push(n)}(h,a),function(t,e={}){for(let n of Object.keys(t))e[`_${n}`]={writable:!0}}(h,o),function(t,e){let n=e.prototype,o=n.hasOwnProperty("connectedCallback")?n.connectedCallback:void 0;n.connectedCallback=function(){for(let e of Object.keys(t)){let n=t[e];r(n)&&i(this,e,n.value)}for(let e of Object.keys(t))c(this,e);o&&o.call(this,...arguments)}}(h,t),function(t,o){let r=o.prototype,i=r.hasOwnProperty("attributeChangedCallback")?r.attributeChangedCallback:void 0;r.attributeChangedCallback=function(o,r,c){let l=r,s=c;if(o in t){const e=f(u(t[o])),n=`_${o}`;l=this[n],s=this[n]=e(c)}if(e in this){let t=this[e];if(t.has(o))for(let e of t.get(o))e.call(this,s,l,o);if(t.has(n))for(let e of t.get(n))e.call(this,s,l,o)}i&&i.call(this,...arguments)}}(h,t),function(t,e){if(e.hasOwnProperty("observedAttribtes"))throw new Error("Cannot override existing observedAttributes() in class.");Object.defineProperty(e,"observedAttributes",{get:()=>t})}(a,t),function(t,e){const n=e.prototype;for(const e of Object.keys(t))n.hasOwnProperty(e)&&delete t[e];Object.defineProperties(e.prototype,t)}(o,t)}let p=a?{extends:a}:void 0,b="string"==typeof o?[o]:o;for(let e of b)window.customElements.define(e,t,p);return t},t.find=function(t,e){return o(t).querySelector(e)},t.findAll=function(t,e){return o(t).querySelectorAll(e)},t.findById=function(t,e){return o(t).getElementById(e)},t.getRootElement=o,Object.defineProperty(t,"__esModule",{value:!0})}));
